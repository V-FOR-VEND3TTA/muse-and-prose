<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muse & Prose | Cookies Policy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/styles.css">
    <style>
    /* Reusing your existing CSS variables */
    :root {
      --primary-color: #4a6fa5;
      --secondary-color: #166088;
      --light-color: #f8f9fa;
      --dark-color: #212529;
    }

    body {
      font-family: 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
      line-height: 1.6;
      background-color: #f5f5f5;
    }

    .navbar-custom {
      background-color: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .cookie-type {
      border-left: 4px solid var(--primary-color);
      padding-left: 1rem;
      margin: 1.5rem 0;
    }

    .cookie-table {
      width: 100%;
      border-collapse: collapse;
    }

    .cookie-table th {
      background-color: var(--light-color);
      text-align: left;
      padding: 0.75rem;
    }

    .cookie-table td {
      padding: 0.75rem;
      border-bottom: 1px solid #dee2e6;
      vertical-align: top;
    }

    .btn-cookie-settings {
      background-color: var(--primary-color);
      color: white;
    }

    .btn-cookie-settings:hover {
      background-color: var(--secondary-color);
    }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-custom">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html" style="color: var(--primary-color)">Muse & Prose</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="signup.html">Sign Up</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container my-5">
        <div class="content-card">
            <h1 class="mb-4">Cookies Policy</h1>
            <p class="text-muted border-bottom pb-3">Last Updated: January 1, 2023</p>
            
            <p>This Cookies Policy explains how Muse & Prose ("we", "us", or "our") uses cookies and similar tracking technologies when you visit our website.</p>
            
            <div class="alert alert-info">
                <h3 class="alert-heading"><i class="bi bi-info-circle"></i> Your Cookie Preferences</h3>
                <p>You can manage your cookie preferences at any time using our <a href="#cookie-settings" class="alert-link">Cookie Settings</a> tool below.</p>
                <button class="btn btn-cookie-settings mt-2" data-bs-toggle="modal" data-bs-target="#cookieModal">
                    Manage Cookie Preferences
                </button>
            </div>

            <h2>1. What Are Cookies?</h2>
            <p>Cookies are small text files stored on your device when you visit websites. They help the site remember information about your visit, which can make it easier to visit again and make the site more useful.</p>

            <h2>2. How We Use Cookies</h2>
            <p>We use cookies for the following purposes:</p>

            <div class="cookie-type">
                <h3><i class="bi bi-shield-check"></i> Essential Cookies</h3>
                <p>These are necessary for the website to function and cannot be switched off.</p>
                <div class="table-responsive">
                    <table class="cookie-table">
                        <thead>
                            <tr>
                                <th>Cookie Name</th>
                                <th>Purpose</th>
                                <th>Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>sessionid</td>
                                <td>Maintains your login session</td>
                                <td>Session</td>
                            </tr>
                            <tr>
                                <td>csrftoken</td>
                                <td>Security protection against CSRF attacks</td>
                                <td>1 year</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="cookie-type">
                <h3><i class="bi bi-graph-up"></i> Analytics Cookies</h3>
                <p>These help us understand how visitors interact with our website by collecting anonymous information.</p>
                <div class="table-responsive">
                    <table class="cookie-table">
                        <thead>
                            <tr>
                                <th>Cookie Name</th>
                                <th>Purpose</th>
                                <th>Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>_ga</td>
                                <td>Google Analytics - distinguishes users</td>
                                <td>2 years</td>
                            </tr>
                            <tr>
                                <td>_gid</td>
                                <td>Google Analytics - distinguishes users</td>
                                <td>24 hours</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="cookie-type">
                <h3><i class="bi bi-megaphone"></i> Marketing Cookies</h3>
                <p>These track visitors across websites to display more relevant ads (only enabled with your consent).</p>
                <div class="table-responsive">
                    <table class="cookie-table">
                        <thead>
                            <tr>
                                <th>Cookie Name</th>
                                <th>Purpose</th>
                                <th>Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>_fbp</td>
                                <td>Facebook Pixel - ad delivery</td>
                                <td>3 months</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <h2>3. Managing Cookies</h2>
            <p>You can control and/or delete cookies as you wish:</p>
            <ul>
                <li><strong>Browser Settings:</strong> Most browsers allow you to refuse cookies or delete existing ones. Check your browser's help section for instructions.</li>
                <li><strong>Our Cookie Consent Tool:</strong> Use the button above to change your preferences at any time.</li>
                <li><strong>Third-Party Opt-Outs:</strong> For analytics and marketing cookies, you can opt-out directly with the providers:
                    <ul>
                        <li><a href="https://tools.google.com/dlpage/gaoptout" target="_blank">Google Analytics Opt-out</a></li>
                        <li><a href="https://www.facebook.com/ads/preferences" target="_blank">Facebook Ad Preferences</a></li>
                    </ul>
                </li>
            </ul>

            <h2>4. Legal Compliance</h2>
            <p>We comply with:</p>
            <ul>
                <li><strong>GDPR (EU):</strong> We obtain consent for non-essential cookies and provide clear information about data processing.</li>
                <li><strong>CCPA (California):</strong> California residents can opt-out of "sales" of personal information (though we don't sell data).</li>
                <li><strong>ePrivacy Directive:</strong> We provide clear information and obtain consent before setting non-essential cookies.</li>
            </ul>

            <div id="cookie-settings" class="border-top mt-5 pt-4">
                <h2>Cookie Settings</h2>
                <form id="cookieConsentForm">
                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="essentialCookies" checked disabled>
                            <label class="form-check-label" for="essentialCookies">
                                <strong>Essential Cookies</strong> (Required)
                            </label>
                        </div>
                        <small class="text-muted">Necessary for the website to function</small>
                    </div>
                    
                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="analyticsCookies">
                            <label class="form-check-label" for="analyticsCookies">
                                <strong>Analytics Cookies</strong>
                            </label>
                        </div>
                        <small class="text-muted">Help us improve our website by collecting usage data</small>
                    </div>
                    
                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="marketingCookies">
                            <label class="form-check-label" for="marketingCookies">
                                <strong>Marketing Cookies</strong>
                            </label>
                        </div>
                        <small class="text-muted">Used to track visitors across websites for advertising</small>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Save Preferences</button>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5>Muse & Prose</h5>
                    <p>Your personal book recommendation engine.</p>
                </div>
                <div class="col-md-4 mb-3">
                    <h5>Legal</h5>
                    <ul class="footer-links">
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms-of-service.html">Terms of Service</a></li>
                        <li><a href="cookies.html">Cookies Policy</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact</h5>
                    <ul class="footer-links">
                        <li><a href="mailto:privacy@muse-prose.com">privacy@muse-prose.com</a></li>
                        <li><a href="tel:+555-123-4567">+1 (555) 123-4567</a></li>
                    </ul>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p class="mb-0">&copy; 2023 Muse & Prose. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Cookie Settings Modal -->
    <div class="modal fade" id="cookieModal" tabindex="-1" aria-labelledby="cookieModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cookieModalLabel">Cookie Preferences</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>We use cookies to enhance your experience. Choose which types of cookies you're comfortable with:</p>
                    <form>
                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="modalAnalytics" checked>
                                <label class="form-check-label" for="modalAnalytics">Analytics Cookies</label>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="modalMarketing">
                                <label class="form-check-label" for="modalMarketing">Marketing Cookies</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save Preferences</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Simple cookie consent management
        document.getElementById('cookieConsentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const analytics = document.getElementById('analyticsCookies').checked;
            const marketing = document.getElementById('marketingCookies').checked;
            
            // In a real implementation, you would set cookies here
            console.log('Cookie preferences saved:', { analytics, marketing });
            
            alert('Your cookie preferences have been saved!');
        });
    </script>
</body>
</html>